{"version":3,"sources":["controls/dateTimePicker/DateTimePicker.tsx"],"names":[],"mappings":"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","file":"controls/dateTimePicker/DateTimePicker.js","sourcesContent":["import * as React from \"react\";\r\nimport { isEqual } from '@microsoft/sp-lodash-subset';\r\nimport { TimeConvention, DateConvention } from \"./DateTimeConventions\";\r\nimport { DatePicker } from \"office-ui-fabric-react/lib/DatePicker\";\r\nimport { Label } from \"office-ui-fabric-react/lib/Label\";\r\nimport { IDropdownOption } from \"office-ui-fabric-react/lib/Dropdown\";\r\nimport * as strings from \"ControlStrings\";\r\nimport ErrorMessage from \"../errorMessage/ErrorMessage\";\r\nimport styles from \"./DateTimePicker.module.scss\";\r\nimport HoursComponent from \"./HoursComponent\";\r\nimport MinutesComponent from \"./MinutesComponent\";\r\nimport SecondsComponent from \"./SecondsComponent\";\r\nimport * as telemetry from \"../../common/telemetry\";\r\nimport { Async, css } from 'office-ui-fabric-react/lib/Utilities';\r\nimport { IDateTimePickerProps, IDateTimePickerState, DateTimePickerStrings } from \".\";\r\nimport { TimeHelper } from \"./TimeHelper\";\r\nimport { TimeDisplayControlType } from \"./TimeDisplayControlType\";\r\n\r\ninterface IDateComponents {\r\n  day: Date;\r\n  hours: number;\r\n  minutes: number;\r\n  seconds: number;\r\n}\r\n\r\n/**\r\n * Renders the controls for DateTimePicker component\r\n */\r\nexport class DateTimePicker extends React.Component<IDateTimePickerProps, IDateTimePickerState> {\r\n  private _latestValidateValue: number = NaN;\r\n  private async: Async;\r\n  private delayedValidate: (value: Date) => void;\r\n\r\n  /**\r\n   * Constructor\r\n   */\r\n  constructor(props: IDateTimePickerProps) {\r\n    super(props);\r\n    telemetry.track('ReactDateTimePicker', {\r\n      dateConvention: props.dateConvention ? DateConvention[props.dateConvention] : '',\r\n      formatDate: !!props.formatDate,\r\n      timeConvention: props.timeConvention ? TimeConvention[props.timeConvention] : '',\r\n      disabled: props.disabled\r\n    });\r\n\r\n    // Get the current date/time values\r\n    const { value = null } = this.props;\r\n    const { day, hours, minutes, seconds } = DateTimePicker.getDateComponents(value, props.dateConvention);\r\n\r\n    // Set the current state\r\n    this.state = {\r\n      day,\r\n      hours,\r\n      minutes,\r\n      seconds,\r\n      errorMessage: ''\r\n    };\r\n\r\n    this.async = new Async(this);\r\n    this.delayedValidate = this.async.debounce(this.validate, props.deferredValidationTime);\r\n  }\r\n\r\n  /**\r\n   * Called when the component will unmount\r\n   */\r\n  public componentWillUnmount() {\r\n    this.async.dispose();\r\n  }\r\n\r\n  /**\r\n   * Called before the component receives new props, used for matching state with new props.\r\n   */\r\n  public componentWillReceiveProps(nextProps: IDateTimePickerProps): void {\r\n    if (nextProps.value != null && !isEqual(nextProps.value, this.props.value)) {\r\n      const { day, hours, minutes, seconds } = DateTimePicker.getDateComponents(nextProps.value, this.props.dateConvention);\r\n      this.setState({ day, hours, minutes, seconds });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get the components of a Date object matching the DateConvention settings\r\n   * @param date Date to extract components from\r\n   * @param dateConvention DateConvention to follow when extracting date components\r\n   */\r\n  private static getDateComponents(date: Date, dateConvention: DateConvention): IDateComponents {\r\n    const day: Date | null = TimeHelper.cloneDate(date);\r\n    const hours: number = dateConvention !== DateConvention.Date && day !== null ? day.getHours() : 0;\r\n    const minutes: number = dateConvention !== DateConvention.Date && day !== null ? day.getMinutes() : 0;\r\n    const seconds: number = dateConvention !== DateConvention.Date && day !== null ? day.getSeconds() : 0;\r\n    if (day !== null) {\r\n      day.setHours(hours);\r\n      day.setMinutes(minutes);\r\n      day.setSeconds(seconds);\r\n    }\r\n    return { day, hours, minutes, seconds };\r\n  }\r\n\r\n  /**\r\n   * Function called when the DatePicker Office UI Fabric component selected date changed\r\n   */\r\n  private onSelectDate = (date: Date): void => {\r\n    if (!TimeHelper.isValidDate(date)) {\r\n      return;\r\n    }\r\n    // Get hours, minutes and seconds from state or default to zero\r\n    const { hours = 0, minutes = 0, seconds = 0 } = this.state;\r\n    const day = TimeHelper.cloneDate(date);\r\n    day.setHours(hours);\r\n    day.setMinutes(minutes);\r\n    day.setSeconds(seconds);\r\n    this.setState({ day }, () => this.delayedValidate(this.state.day));\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * Function called when hours value have been changed\r\n   * @param element Hours dropdown value\r\n   */\r\n  private dropdownHoursChanged = (value?: string): void => {\r\n    this.setState(({ day }) => {\r\n      const hoursSplit = value.split(\" \");\r\n      const hoursValue = hoursSplit[0].length > 2 ? hoursSplit[0].substring(0, 2) : hoursSplit[0];\r\n      let hours: number = parseInt(hoursValue);\r\n      if (isNaN(hours)) {\r\n        return;\r\n      }\r\n\r\n      if (this.props.timeConvention !== TimeConvention.Hours24) {\r\n        if (hoursSplit[1] && hoursSplit[1].toLowerCase().indexOf(\"pm\") !== -1) {\r\n          hours += 12;\r\n          if (hours === 24) {\r\n            hours = 0;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (hours > 23) {\r\n        return;\r\n      }\r\n\r\n      const state: Partial<IDateTimePickerState> = { hours };\r\n      const date: Date = TimeHelper.cloneDate(day);\r\n      if (date) {\r\n        date.setHours(hours);\r\n        state.day = date;\r\n      }\r\n      return state;\r\n    }, () => this.delayedValidate(this.state.day));\r\n  }\r\n\r\n  /**\r\n   * Function called when minutes value have been changed\r\n   * @param element Minutes dropdown value\r\n   */\r\n  private dropdownMinutesChanged = (value?: string): void => {\r\n    this.setState(({ day }) => {\r\n      const minutes: number = parseInt(value.length > 2 ? value.substring(0, 2) : value);\r\n      const state: Partial<IDateTimePickerState> = { minutes };\r\n      const date: Date = TimeHelper.cloneDate(day);\r\n      if (date) {\r\n        date.setMinutes(minutes);\r\n        state.day = date;\r\n      }\r\n      return state;\r\n    }, () => this.delayedValidate(this.state.day));\r\n  }\r\n\r\n  /**\r\n   * Function called when seconds value have been changed\r\n   * @param element Seconds dropdown value\r\n   */\r\n  private dropdownSecondsChanged = (value?: string): void => {\r\n    this.setState(({ day }) => {\r\n      const seconds: number = parseInt(value.length > 2 ? value.substring(0, 2) : value);\r\n      const state: Partial<IDateTimePickerState> = { seconds };\r\n      const date: Date = TimeHelper.cloneDate(day);\r\n      if (date) {\r\n        date.setSeconds(seconds);\r\n        state.day = date;\r\n      }\r\n      return state;\r\n    }, () => this.delayedValidate(this.state.day));\r\n  }\r\n\r\n  /**\r\n   * Renders the control\r\n   */\r\n  public render(): JSX.Element {\r\n    // use date value from props if it exists, otherwise use internal state\r\n    // if no dateConvention is set, default is DateConvention.DateTime\r\n    const {\r\n      label,\r\n      disabled,\r\n      timeConvention,\r\n      dateConvention = DateConvention.DateTime,\r\n      firstDayOfWeek,\r\n      isMonthPickerVisible = true,\r\n      showGoToToday,\r\n      showMonthPickerAsOverlay = false,\r\n      showWeekNumbers = false,\r\n      showSeconds = false,\r\n      formatDate,\r\n      value = this.state.day,\r\n      strings: dateStrings = new DateTimePickerStrings(), // Defines the DatePicker control labels\r\n      timeDisplayControlType,\r\n      showLabels\r\n    } = this.props;\r\n\r\n    const hours: number = value != null ? value.getHours() : this.state.hours;\r\n    const minutes: number = value != null ? value.getMinutes() : this.state.minutes;\r\n    const seconds: number = value != null ? value.getSeconds() : this.state.seconds;\r\n\r\n    // Check if the time element needs to be rendered\r\n    let timeElm: JSX.Element = <div className=\"hidden\" />;\r\n\r\n    if (dateConvention === DateConvention.DateTime) {\r\n      timeElm = (\r\n        <div className={css(styles.row, styles.timeRow)}>\r\n          {showLabels !== false && <div className={styles.labelCell}><Label className={styles.fieldLabel}>{dateStrings.timeLabel}</Label></div>}\r\n\r\n          <div className={styles.time}>\r\n            <div className={styles.picker}>\r\n              <HoursComponent disabled={disabled}\r\n                timeConvention={timeConvention}\r\n                value={hours}\r\n                onChange={this.dropdownHoursChanged}\r\n                timeDisplayControlType={timeDisplayControlType || TimeDisplayControlType.Text} />\r\n            </div>\r\n\r\n            <div className={styles.separator}>\r\n              <Label>{dateStrings.timeSeparator}</Label>\r\n            </div>\r\n\r\n            <div className={styles.picker}>\r\n              <MinutesComponent disabled={disabled}\r\n                value={minutes}\r\n                onChange={this.dropdownMinutesChanged}\r\n                timeDisplayControlType={timeDisplayControlType || TimeDisplayControlType.Text} />\r\n            </div>\r\n\r\n            {\r\n              showSeconds && (\r\n                <div className={styles.separator}>\r\n                  <Label>{dateStrings.timeSeparator}</Label>\r\n                </div>\r\n              )\r\n            }\r\n\r\n            {\r\n              showSeconds && (\r\n                <div className={styles.picker}>\r\n                  <SecondsComponent disabled={disabled}\r\n                    value={seconds}\r\n                    onChange={this.dropdownSecondsChanged}\r\n                    timeDisplayControlType={timeDisplayControlType || TimeDisplayControlType.Text} />\r\n                </div>\r\n              )\r\n            }\r\n          </div>\r\n        </div>);\r\n    }\r\n\r\n    // Renders content\r\n    return (\r\n      <div className={styles.dateTimePicker}>\r\n        {\r\n          label && <Label>{label}</Label>\r\n        }\r\n\r\n        <div className={styles.container}>\r\n          <div className={styles.row}>\r\n            {\r\n              showLabels !== false && (\r\n                <div className={styles.labelCell}>\r\n                  <Label className={styles.fieldLabel}>{dateStrings.dateLabel}</Label>\r\n                </div>\r\n              )\r\n            }\r\n\r\n            <div className={styles.picker}>\r\n              <DatePicker\r\n                formatDate={formatDate}\r\n                disabled={disabled}\r\n                value={value}\r\n                strings={dateStrings}\r\n                isMonthPickerVisible={isMonthPickerVisible}\r\n                onSelectDate={this.onSelectDate}\r\n                allowTextInput={false}\r\n                firstDayOfWeek={firstDayOfWeek}\r\n                showGoToToday={showGoToToday}\r\n                showMonthPickerAsOverlay={showMonthPickerAsOverlay}\r\n                showWeekNumbers={showWeekNumbers}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {timeElm}\r\n        </div>\r\n\r\n        <ErrorMessage errorMessage={this.state.errorMessage} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Validates the new custom field value\r\n   */\r\n  private validate = (dateVal: Date): void => {\r\n    if (typeof this.props.onGetErrorMessage === 'undefined' || this.props.onGetErrorMessage === null) {\r\n      this.notifyAfterValidate(this.props.value, dateVal);\r\n      return;\r\n    }\r\n\r\n    const timestamp = dateVal.getTime();\r\n\r\n    if (this._latestValidateValue === timestamp) {\r\n      return;\r\n    }\r\n\r\n    this._latestValidateValue = timestamp;\r\n\r\n    const result: string | PromiseLike<string> = this.props.onGetErrorMessage(dateVal);\r\n    if (typeof result !== 'undefined') {\r\n      if (typeof result === 'string') {\r\n        if (result === '') {\r\n          this.notifyAfterValidate(this.props.value, dateVal);\r\n        }\r\n\r\n        this.setState({\r\n          errorMessage: result\r\n        });\r\n      } else {\r\n        result.then((errorMessage: string) => {\r\n          if (typeof errorMessage === 'undefined' || errorMessage === '') {\r\n            this.notifyAfterValidate(this.props.value, dateVal);\r\n          }\r\n\r\n          this.setState({\r\n            errorMessage: errorMessage\r\n          });\r\n        });\r\n      }\r\n    } else {\r\n      this.notifyAfterValidate(this.props.value, dateVal);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Notifies the parent Web Part of a property value change\r\n   */\r\n  private notifyAfterValidate = (oldValue: Date, newValue: Date) => {\r\n    if (typeof this.props.onChange !== 'undefined' && this.props.onChange !== null && newValue !== null) {\r\n      this.props.onChange(newValue);\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":"..\\..\\..\\src"}