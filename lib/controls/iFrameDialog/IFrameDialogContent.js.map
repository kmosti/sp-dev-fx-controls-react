{"version":3,"sources":["controls/iFrameDialog/IFrameDialogContent.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA,6BAA+B;AAC/B,qFAAuD;AACvD,8DAA0E;AAC1E,kCAAqC;AAWrC;;GAEG;AACH;IAAyC,uCAAqE;IAG1G,6BAAY,KAAgC;QAA5C,YACI,kBAAM,KAAK,CAAC,SAKf;QAHG,KAAI,CAAC,KAAK,GAAG;YACT,gBAAgB,EAAE,KAAK;SAC1B,CAAC;;IACN,CAAC;IAEM,oCAAM,GAAb;QAAA,iBAQC;QAPG,MAAM,CAAC,CAAC,6BAAK,SAAS,EAAE,yCAAM,CAAC,YAAY;YACvC,yCAAQ,GAAG,EAAE,UAAC,MAAM,IAAO,KAAI,CAAC,OAAO,GAAG,MAAM,CAAC,CAAC,CAAC,EAAE,WAAW,EAAE,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,gBAAgB,GAAG,SAAS,GAAG,QAAQ,EAAE,IAAM,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,EAAI;YAClQ,CAAC,IAAI,CAAC,KAAK,CAAC,gBAAgB;gBACzB,6BAAK,SAAS,EAAE,yCAAM,CAAC,gBAAgB;oBACnC,oBAAC,iBAAO,IAAC,IAAI,EAAE,qBAAW,CAAC,KAAK,GAAI,CAClC,CACR,CAAC,CAAC;IACZ,CAAC;IAEO,2CAAa,GAArB;QACI,IAAI,CAAC;YACD,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,YAAY,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;YACvE,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,YAAY,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;QAC3E,CAAC;QACD,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACT,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,KAAK,eAAe,CAAC,CAAC,CAAC;gBAC/B,MAAM,GAAG,CAAC;YACd,CAAC;QACL,CAAC;QAGD,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC;YAC1B,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC1C,CAAC;QAED,IAAI,CAAC,QAAQ,CAAC;YACV,gBAAgB,EAAE,IAAI;SACzB,CAAC,CAAC;IACP,CAAC;IACL,0BAAC;AAAD,CAzCA,AAyCC,CAzCwC,KAAK,CAAC,SAAS,GAyCvD;AAzCY,kDAAmB","file":"controls/iFrameDialog/IFrameDialogContent.js","sourcesContent":["import * as React from \"react\";\r\nimport styles from './IFrameDialogContent.module.scss';\r\nimport { Spinner, SpinnerSize } from 'office-ui-fabric-react/lib/Spinner';\r\nimport omit = require('lodash/omit');\r\n\r\nexport interface IIFrameDialogContentProps extends React.IframeHTMLAttributes<HTMLIFrameElement> {\r\n    close: () => void;\r\n    iframeOnLoad?: (iframe: any) => void;\r\n}\r\n\r\nexport interface IIFrameDialogContentState {\r\n    isContentVisible?: boolean;\r\n}\r\n\r\n/**\r\n * IFrame Dialog content\r\n */\r\nexport class IFrameDialogContent extends React.Component<IIFrameDialogContentProps, IIFrameDialogContentState> {\r\n    private _iframe: any;\r\n\r\n    constructor(props: IIFrameDialogContentProps) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            isContentVisible: false\r\n        };\r\n    }\r\n\r\n    public render(): JSX.Element {\r\n        return (<div className={styles.iFrameDialog}>\r\n            <iframe ref={(iframe) => { this._iframe = iframe; }} frameBorder={0} onLoad={this._iframeOnLoad.bind(this)} style={{ width: '100%', height: this.props.height, visibility: this.state.isContentVisible ? 'visible' : 'hidden' }} {...omit(this.props, 'height')} />\r\n            {!this.state.isContentVisible &&\r\n                <div className={styles.spinnerContainer}>\r\n                    <Spinner size={SpinnerSize.large} />\r\n                </div>}\r\n        </div>);\r\n    }\r\n\r\n    private _iframeOnLoad(): void {\r\n        try { // for cross origin requests we can have issues with accessing frameElement\r\n            this._iframe.contentWindow.frameElement.cancelPopUp = this.props.close;\r\n            this._iframe.contentWindow.frameElement.commitPopUp = this.props.close;\r\n        }\r\n        catch (err) {\r\n            if (err.name !== 'SecurityError') {\r\n                throw err;\r\n            }\r\n        }\r\n\r\n\r\n        if (this.props.iframeOnLoad) {\r\n            this.props.iframeOnLoad(this._iframe);\r\n        }\r\n\r\n        this.setState({\r\n            isContentVisible: true\r\n        });\r\n    }\r\n}\r\n"],"sourceRoot":"..\\..\\..\\src"}